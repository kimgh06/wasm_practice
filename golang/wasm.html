<!DOCTYPE html>
<html>

<head>
  <title>WebSocket Client</title>
  <script src="wasm_exec.js"></script>
</head>

<body>
  <h1>WebSocket Client in Go (WASM)</h1>
  <button onclick="connectWs()">Connect to WebSocket Server</button>
  <script>
    const go = new Go();
    WebAssembly.instantiateStreaming(fetch("client.wasm"), go.importObject).then((result) => {
      go.run(result.instance);
    });

    function connectWs() {
      const serverAddr = "ws://localhost:8080/ws";
      connectWebSocket(serverAddr);
    }
  </script>
</body>

</html>